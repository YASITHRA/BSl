document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".navbar").offsetHeight;document.querySelectorAll(".nav-links a,.logo").forEach(t=>{t.addEventListener("click",n=>{const o=t.getAttribute("href");if(o&&o.startsWith("#")){n.preventDefault();const r=document.querySelector(o);if(r){const t=r.offsetTop-e;window.scrollTo({top:t,behavior:"smooth"}),document.querySelector(".nav-links").classList.remove("active")}}})});const t=document.querySelector(".menu-toggle"),n=document.querySelector(".nav-links");t&&n&&t.addEventListener("click",()=>{n.classList.toggle("active")});const o=document.querySelectorAll(".filter-buttons button"),r=document.querySelectorAll(".gallery-grid img");o.forEach(e=>{e.addEventListener("click",()=>{o.forEach(e=>e.classList.remove("active")),e.classList.add("active");const t=e.dataset.filter;r.forEach(e=>{const n=e.dataset.category;"all"===t||n===t?e.classList.remove("hidden"):e.classList.add("hidden")})})});const l=document.getElementById("lightbox"),c=l.querySelector(".lightbox-img"),a=l.querySelector(".close"),s=l.querySelector(".next"),i=l.querySelector(".prev");let d=Array.from(r),u=0;function f(){const e=d[u],t=e.dataset.full||e.src;c.src=t,c.alt=e.alt}d.forEach((e,t)=>{e.addEventListener("click",()=>{e.classList.contains("hidden")||(u=t,f(),l.classList.add("open"))})}),a.addEventListener("click",()=>l.classList.remove("open")),s.addEventListener("click",()=>{do{u=(u+1)%d.length}while(d[u].classList.contains("hidden"));f()}),i.addEventListener("click",()=>{do{u=(u-1+d.length)%d.length}while(d[u].classList.contains("hidden"));f()}),window.addEventListener("keydown",e=>{l.classList.contains("open")&&("Escape"===e.key&&l.classList.remove("open"),"ArrowRight"===e.key&&s.click(),"ArrowLeft"===e.key&&i.click())}),l.addEventListener("click",e=>{e.target===l&&l.classList.remove("open")})});
