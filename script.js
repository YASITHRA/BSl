document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".nav-links a, .logo").forEach(e=>{e.addEventListener("click",t=>{const n=e.getAttribute("href");if(n&&n.startsWith("#")){t.preventDefault();const o=document.querySelector(n);if(!o)return;const c=document.querySelector(".navbar").offsetHeight,r=o.offsetTop-c;window.scrollTo({top:r,behavior:"smooth"}),document.querySelector(".nav-links").classList.remove("active")}})});const e=document.querySelector(".menu-toggle"),t=document.querySelector(".nav-links");e&&t&&e.addEventListener("click",()=>{t.classList.toggle("active")});const n=document.querySelectorAll(".filter-buttons button"),o=document.querySelectorAll(".gallery-grid img");n.forEach(e=>{e.addEventListener("click",()=>{n.forEach(e=>e.classList.remove("active")),e.classList.add("active");const t=e.dataset.filter;o.forEach(e=>{const n=e.dataset.category;"all"===t||n===t?e.classList.remove("hidden"):e.classList.add("hidden")})})});const c=document.getElementById("lightbox"),r=c.querySelector(".lightbox-img"),l=c.querySelector(".close"),s=c.querySelector(".next"),a=c.querySelector(".prev");let i=Array.from(o),d=0;function u(){const e=i[d],t=e.dataset.full||e.src;r.src=t,r.alt=e.alt}i.forEach((e,t)=>{e.addEventListener("click",()=>{e.classList.contains("hidden")||(d=t,u(),c.classList.add("open"))})}),l.addEventListener("click",()=>c.classList.remove("open")),s.addEventListener("click",()=>{do{d=(d+1)%i.length}while(i[d].classList.contains("hidden"));u()}),a.addEventListener("click",()=>{do{d=(d-1+i.length)%i.length}while(i[d].classList.contains("hidden"));u()}),window.addEventListener("keydown",e=>{c.classList.contains("open")&&("Escape"===e.key&&c.classList.remove("open"),"ArrowRight"===e.key&&s.click(),"ArrowLeft"===e.key&&a.click())}),c.addEventListener("click",e=>{e.target===c&&c.classList.remove("open")})});
